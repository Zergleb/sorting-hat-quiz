(this["webpackJsonpsorting-hat-quiz"]=this["webpackJsonpsorting-hat-quiz"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var s=n(0),r=(n(27),n(24)),a=n(8),o=n(9),u=n(11),c=n(10),i=(n(28),n(29),n.p+"static/media/sortingHat.1334848a.png"),l=n(5),h=function(){return Object(s.jsxs)("section",{className:"intro-section",children:[Object(s.jsxs)("section",{className:"intro-content",children:[Object(s.jsxs)("div",{className:"sorting-song",children:[Object(s.jsx)("h1",{children:"The Hogwarts Sorting Hat's Song"}),Object(s.jsx)("p",{"data-testid":"sorting-hats-song",children:"Oh, you may not think I'm pretty, But don't judge on what you see, I'll eat myself if you can find A smarter hat than me. You can keep your bowlers black, Your top hats sleek and tall, For I'm the Hogwarts Sorting Hat And I can cap them all. There's nothing hidden in your head The Sorting Hat can't see, So try me on and I will tell you Where you ought to be. You might belong in Gryffindor, Where dwell the brave at heart, Their daring, nerve and chivalry Set Gryffindors apart; You might belong in Hufflepuff, Where they are just and loyal, Those patient Hufflepuffs are true And unafraid of toil; Or yet in wise old Ravenclaw, If you've a ready mind, Where those of wit and learning, Will always find their kind; Or perhaps in Slytherin You'll make your real friends, Those cunning folk use any means To achieve their ends. So put me on! Don't be afraid! And don't get in a flap! You're in safe hands (though I have none) For I'm a Thinking Cap!"})]}),Object(s.jsx)("img",{src:i,alt:"Hogwarts Sorting Hat",className:"sorting-hat-img"})]}),Object(s.jsx)(l.b,{to:"/your-name",className:"get-sorted-btn-anchor",children:Object(s.jsx)("button",{className:"get-sorted-btn",children:"Get Sorted"})})]})},d=(n(35),n(1)),m=n(3),b=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).updateNameInput=function(e){s.setState({nameInput:e.target.value})},s.handleNameSubmit=function(e){e.preventDefault(),s.state.nameInput?(s.props.setUserName(s.state.nameInput),s.setState({formInvalid:!1}),s.props.history.push("/question")):s.setState({formInvalid:!0})},s.state={nameInput:"",formInvalid:!1},s}return Object(o.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("form",{className:"name-form",onSubmit:this.handleNameSubmit,children:[Object(s.jsx)("h1",{children:"What's Your Name?"}),Object(s.jsx)("input",{type:"text",name:"name",placeholder:"Your Name",onChange:this.updateNameInput,value:this.state.nameInput,className:"name-input"}),this.state.nameInput&&Object(s.jsx)("button",{className:"name-btn","data-testid":"enabled-name-btn",children:"Enroll!"}),!this.state.nameInput&&Object(s.jsx)("button",{className:"disabled-name-btn","data-testid":"disabled-name-btn",children:"Enroll!"}),this.state.formInvalid&&Object(s.jsx)("p",{children:"Please enter your name before continuing"})]})}}]),n}(d.Component),j=Object(m.f)(b),f=n(19),p=n.n(f),O=n(22),g=(n(37),n(38),function(e){var t=e.errorMessage;return Object(s.jsxs)("section",{className:"error-section",children:[Object(s.jsx)("h1",{children:t}),Object(s.jsx)(l.b,{to:"/",className:"error-btn-anchor",children:Object(s.jsx)("button",{className:"error-btn",children:"Return To The Sorting Hat"})})]})}),x=n(6),v=n.n(x),y=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).updateAnswerValues=function(){var e=s.props,t=e.hogwartsHouses,n=e.questionNumber,r=t.map((function(e){return e["value".concat(n)]}));s.setState({answerValues:r})},s.handleAnswerSubmit=function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.props.tallyQuestionResults(t);case 2:s.updateAnswerValues(),s.props.determineUserHouse();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.state={answerValues:[]},s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.updateAnswerValues()}},{key:"render",value:function(){var e=this,t=this.state.answerValues,n=this.props.questionNumber;return Object(s.jsxs)("section",{className:"question-slide",children:[t.length>0&&Object(s.jsxs)("section",{children:[Object(s.jsxs)("h1",{children:["".concat(n,". What do you value most"),"?"]}),Object(s.jsxs)("section",{className:"question-options",children:[Object(s.jsx)(l.b,{to:n<4?"/question":"/result",className:"question-btn-anchor",children:Object(s.jsx)("button",{onClick:function(){return e.handleAnswerSubmit("Gryffindor")},className:"question-btn",children:t[0]})}),Object(s.jsx)(l.b,{to:n<4?"/question":"/result",className:"question-btn-anchor",children:Object(s.jsx)("button",{onClick:function(){return e.handleAnswerSubmit("Hufflepuff")},className:"question-btn",children:t[1]})}),Object(s.jsx)(l.b,{to:n<4?"/question":"/result",className:"question-btn-anchor",children:Object(s.jsx)("button",{onClick:function(){return e.handleAnswerSubmit("Slytherin")},className:"question-btn",children:t[2]})}),Object(s.jsx)(l.b,{to:n<4?"/question":"/result",className:"question-btn-anchor",children:Object(s.jsx)("button",{onClick:function(){return e.handleAnswerSubmit("Ravenclaw")},className:"question-btn",children:t[3]})})]})]}),!t.length&&Object(s.jsx)(g,{errorMessage:"Sorry, something went wrong."})]})}}]),n}(d.Component),w=y;y.protoTypes={determineUserHouse:v.a.func.isRequired,hogwartsHouses:v.a.array.isRequired,questionNumber:v.a.number.isRequired,tallyQuestionResults:v.a.func.isRequired};n(39);var N=n.p+"static/media/mcgonagall.dcdcf52e.png",H=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).listHousemates=function(e){var t,n;return(t=e,n=r.props.userHouse,t.filter((function(e){return e.house===n.name})).map((function(e){return{_id:e._id,name:e.name}}))).map((function(e){return Object(s.jsx)("li",{"data-testid":"housemates",children:e.name},e._id)}))},r.state={houseMates:[],resultError:!1},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://fe-cors-proxy.herokuapp.com",{headers:{"Target-URL":"https://potter-server.herokuapp.com/api/v1/characters"}}).then((function(e){return e.json()})).then((function(t){return e.setState({houseMates:e.listHousemates(t),resultError:!1})})).catch(this.setState({resultError:!0}))}},{key:"render",value:function(){var e=this.props.userName,t=this.props.userHouse,n=t.name,r=t.founder,a=t.mascot,o=t.headOfHouse,u=t.houseGhost,c=t.value1,i=t.value2,h=t.value3,d=t.value4,m=t.color1,b=t.color2;return Object(s.jsxs)("section",{className:n&&n.toLowerCase(),children:[!this.state.resultError&&n&&Object(s.jsxs)("section",{className:"result-announcement",children:[Object(s.jsxs)("div",{className:"announcement-txt",children:[Object(s.jsx)("h1",{children:"".concat(n.toUpperCase(),"!")}),Object(s.jsx)("p",{"data-testid":"house-description",children:"Welcome to ".concat(n,", ").concat(e,"!\n                            Founded by the ").concat(a,", ").concat(r,", and led by Professor ").concat(o,",\n                            ").concat(n,"s are known for their ").concat(c.toLowerCase(),", ").concat(i.toLowerCase(),", \n                            ").concat(h.toLowerCase(),", and ").concat(d.toLowerCase(),". Walking through the common, \n                            you will see lots of ").concat(m.toLowerCase()," and ").concat(b.toLowerCase()," \n                            and ").concat(u,", the house ghost floating through walls.\n                            While at Hogwarts, your fellow ").concat(n,"s will be your family.")}),Object(s.jsx)("h2",{children:"Your fellow ".concat(n,"s")}),Object(s.jsxs)("ul",{children:[this.state.houseMates.length<1&&Object(s.jsx)("p",{children:"Finding your housemates..."}),this.state.houseMates]}),Object(s.jsx)("p",{className:"restart-txt",children:"Not happy with the result?"}),Object(s.jsx)(l.b,{to:"/question",className:"restart-btn-anchor",children:Object(s.jsx)("button",{onClick:this.props.resetQuiz,className:"restart-btn",children:"Get Sorted Again"})})]}),Object(s.jsx)("img",{src:N,alt:"Minerva McGonagall",className:"mcgonagall-img"})]}),this.state.resultError||!this.props.userHouse&&Object(s.jsx)(g,{errorMessage:"Sorry, something went wrong."})]})}}]),n}(d.Component),q=H;H.protoTypes={resetQuiz:v.a.func.isRequired,userHouse:v.a.object.isRequired,userName:v.a.string.isRequired};var S=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).setUserName=function(t){e.setState({userName:t})},e.tallyQuestionResults=function(t){e.setState({questionResults:[].concat(Object(r.a)(e.state.questionResults),[t])})},e.determineUserHouse=function(){var t=e.state.questionResults.reduce((function(e,t){return e[t]?e[t]+=1:e[t]=1,e}),{}),n=Object.keys(t).sort((function(e,n){return t[n]>t[e]?1:-1}));e.setState({userHouse:e.state.hogwartsHouses.find((function(e){return e.name===n[0]}))})},e.resetQuiz=function(){e.setState({userHouse:{},questionResults:[]})},e.state={userHouse:"",userName:"",questionResults:[],hogwartsHouses:[],houseFetchError:""},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://fe-cors-proxy.herokuapp.com",{headers:{"Target-URL":"https://potter-server.herokuapp.com/api/v1/houses"}}).then((function(e){return e.json()})).then((function(t){return e.setState({hogwartsHouses:(n=t,n.map((function(e){return{color1:e.color1,color2:e.color2,founder:e.founder,headhOfHouse:e.headhOfHouse,houseGhost:e.houseGhost,mascot:e.mascot,name:e.name,value1:e.value1,value2:e.value2,value3:e.value3,value4:e.value4}}))),houseFetchError:""});var n})).catch((function(t){return e.setState({houseFetchError:t})}))}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("main",{className:"app",children:[!this.state.houseFetchError&&Object(s.jsxs)(m.c,{children:[Object(s.jsx)(m.a,{exact:!0,path:"/",render:function(){return Object(s.jsx)(h,{})}}),Object(s.jsx)(m.a,{exact:!0,path:"/your-name",render:function(){return Object(s.jsx)(j,{setUserName:e.setUserName})}}),Object(s.jsx)(m.a,{exact:!0,path:"/question",render:function(){return Object(s.jsx)(w,{tallyQuestionResults:e.tallyQuestionResults,hogwartsHouses:e.state.hogwartsHouses,questionNumber:e.state.questionResults.length+1,determineUserHouse:e.determineUserHouse})}}),Object(s.jsx)(m.a,{exact:!0,path:"/result",render:function(){return Object(s.jsx)(q,{resetQuiz:e.resetQuiz,userHouse:e.state.userHouse,userName:e.state.userName})}}),Object(s.jsx)(m.a,{path:"/",render:function(){return Object(s.jsx)(g,{errorMessage:"Oops! This page does not exist."})}})]}),this.state.houseFetchError&&Object(s.jsx)(g,{errorMessage:"Sorry, Something went wrong."})]})}}]),n}(d.Component),k=n(23),R=n.n(k),I=Object(s.jsx)(l.a,{basename:"/sorting-hat-quiz",children:Object(s.jsx)(S,{})});R.a.render(I,document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.7643cedc.chunk.js.map